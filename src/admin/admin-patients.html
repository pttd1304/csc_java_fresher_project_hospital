<!DOCTYPE html>
<html >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Hospital Management System</title>
    
    
    <!-- Angular datatables -->
    <link rel="stylesheet" href="../../node_modules/angular-datatables/dist/css/angular-datatables.css">

    <!-- Bootstrap -->
    <link href="../../libs/bootstrap/css/bootstrap.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="../../libs/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- NProgress -->
    <link href="../../libs/nprogress/nprogress.css" rel="stylesheet">
    
    <!-- iCheck -->
    <link href="../../libs/iCheck/skins/flat/green.css" rel="stylesheet">
    
    <!-- Animate.css -->
    <link href="../../libs/animate.css/animate.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="../../css/app.css" rel="stylesheet">
    
    <!-- Custom Theme Style -->
    <link href="../../libs/build/css/custom.min.css" rel="stylesheet">
    
     
</head>
    
<body ng-app="finalProject" class="nav-md ng-cloak" ng-controller="AdminController as ctrl">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="index.html" class="site_title"><i class="fa fa-plus-square"></i> <span>Hospital System</span></a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_info">
                <span>Welcome,</span>
                <h2>Admin</h2>
              </div>
            </div>
            <!-- /menu profile quick info -->

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                
              <!-- filter controller -->
              <div class="menu_section">
                <h3>General</h3>
                <ul class="nav side-menu">
                  <li><a href="./admin-users.html" ><i class="fa fa-user-md"></i> Users </a> 
                  </li>
                  <li><a href="./admin-medicines.html" ><i class="fa fa-medkit"></i> Medicines </a>
                  </li>
                  <li><a href="./admin-patients.html" ><i class="fa fa-wheelchair"></i> Patient Profiles </a>
                  </li>
                  
                </ul>
              </div>

            </div>
            <!-- /sidebar menu -->

            <!-- /menu footer buttons -->
            <div class="sidebar-footer hidden-small">
              <a data-toggle="tooltip" data-placement="top" title="Settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="FullScreen">
                <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Lock">
                <span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Logout" href="../login.html">
                <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
              </a>
            </div>
            <!-- /menu footer buttons -->
          </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <nav>
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fa fa-bars"></i></a>
              </div>

              <ul class="nav navbar-nav navbar-right">
                <li class="">
                  <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img src="" alt="">Johnny Pham
                    <span class=" fa fa-angle-down"></span>
                  </a>
                  <ul class="dropdown-menu dropdown-usermenu pull-right">
                    <li><a href="javascript:;"> Profile</a></li>
                    <li>
                      <a href="javascript:;">
                        <span class="badge bg-red pull-right">50%</span>
                        <span>Settings</span>
                      </a>
                    </li>
                    <li><a href="javascript:;">Help</a></li>
                    <li><a href="login.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                  </ul>
                </li>

                <li role="presentation" class="dropdown" >
                  <a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-envelope-o"></i>
                    <span class="badge bg-green">{{logs.length}}</span>
                  </a>
                  <ul id="menu1" class="dropdown-menu list-unstyled msg_list" role="menu" >
                    <li ng-repeat="log in logs">
                      <a>
                        <span>
                          <span>{{log.doctorName}}</span>
                          <span class="time">{{log.timeModified}}</span>
                        </span>
                        <span class="message">
                          {{log.changes}}
                        </span>
                      </a>
                      <a class="close-link" ><i class="fa fa-close"></i></a>
                    </li>
                     <li ng-repeat="log in logs">
                      <a>
                        <span class="message">
                          SEE ALL NOTIFICATIONS
                        </span>
                      </a>
                      <a class="close-link" ><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main" class="animate form registration_form" id="register">
            <div class="page-title">
              <div class="title_left">
                <!-- Title here if wanted -->
              </div>
                        
              <div class="title_right">
                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                  <div class="input-group">
                      <!-- Filter information if wanted -->
                  </div>
                </div>
              </div>
            </div>
            <!-- Information list -->
            <div class="clearfix"></div>
            
            <div class="row" ng-show="addPerson">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h3>Patient Personal Info</h3>
                    <ul class="nav navbar-right panel_toolbox">
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                    <div class="x_content" >
                        
                        <!-- Add/Update Form -->
                        <form ng-submit="ctrl.submit(3)" name="myForm" class="form-horizontal"  >
                            
                          <input type="hidden" ng-model="ctrl.person.id" />
                         <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="fullname">Patient name</label>
                                  <div class="col-md-7">
                                      <input type="text" ng-model="ctrl.person.fullname" id="fullname" name ="fullname" class="form-control input-sm" placeholder="Enter full name"/>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="address">Address</label>
                                  <div class="col-md-7">
                                      <input type="text" ng-model="ctrl.person.address" id="address" name ="address" class="form-control input-sm" placeholder="Enter address"/>
                                  </div>
                              </div>
                          </div>
                            <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="dob">D.O.B</label>
                                  <div class="col-md-7">
                                      <input type="text" ng-model="ctrl.person.dob" id="dob" name ="dob" class="form-control input-sm" placeholder="Enter birthday"/>
                                  </div>
                              </div>
                          </div>
                            <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="sex">Patient name</label>
                                  <div class="col-md-7">
                                      <input type="text" ng-model="ctrl.person.sex" id="sex" name ="sex" class="form-control input-sm" placeholder="Enter sex"/>
                                  </div>
                              </div>
                          </div>
                          
                         <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="cmnd">CMND</label>
                                  <div class="col-md-7">
                                      <input type="text" ng-model="ctrl.person.cmnd" name="cmnd" id="cmnd" class="cmnd form-control input-sm" placeholder="Enter identity" required ng-minlength="9" ng-maxlength="9"/>
                                      <div class="has-error" ng-show="myForm.$dirty">
                                          <span ng-show="myForm.cmnd.$error.required">This is a required field</span>
                                          <span ng-show="myForm.cmnd.$error.minlength">Minimum length required is 9</span>
                                          <span ng-show="myForm.cmnd.$error.maxlength">Maximum length required is 9</span>
                                          <span ng-show="myForm.cmnd.$invalid">This field is invalid </span>
                                      </div>
                                  </div>
                              </div>
                          </div>

    
                          <div class="row">
                              <div class="form-actions floatRight">
                                  <input type="submit" value="{{!ctrl.person.id ? 'Add' : 'Update'}}" class="btn btn-primary btn-sm" ng-disabled="myForm.$invalid" >
                                  <button type="button" ng-click="ctrl.reset(3)" class="btn btn-warning btn-sm" ng-disabled="myForm.$pristine">Reset Form</button>
                                  <button type="button" ng-click="addPerson = !addPerson" class="btn btn-danger btn-sm"><i class="fa fa-close"></i></button>
                              </div>
                          </div>
                      </form>
                    
                    </div>
                </div>
              </div>           
            </div>
            <div class="row" >
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h3>Patient Personal Info </h3>
                      
                    <ul class="nav navbar-right panel_toolbox">
                      <li>
                          <button type="button" ng-click="addPerson = !addPerson" class="btn btn-info">Add personal info</button>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                    <div class="x_content">
                        
                        <table datatable="ng" class="table table-hover" >
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Patient</th>
                            <th>Address</th>
                            <th>Birthday</th>
                            <th>Gender</th>
                            <th>CMND</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="person in persons">
                            <td>{{ person.id }}</td>
                            <td>{{ person.fullname }}</td>
                            <td>{{ person.address }}</td>
                            <td>{{ person.dob }}</td>
                            <td>{{ person.sex }}</td>
                            <td>{{ person.cmnd }}</td>
                            <td align="right">
                                <button type="button" ng-click="ctrl.view(person)" class="btn btn-info"><i class="fa fa-folder-open"></i></button>
                                <button type="button" ng-click="ctrl.edit(3, person)" class="btn btn-warning"><i class="fa fa-edit"></i></button>
                                <button type="button" ng-click="ctrl.remove(3, person)" class="btn btn-danger"><i class="fa fa-trash-o"></i></button>
                            </td>
                        </tr>
                        </tbody>
                     </table>
                    </div>
                </div>
              </div>           
            </div>
        
        <div class="clearfix"></div>
            
           <div class="row" ng-show="profile">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h3>Patient Profile</h3>
                      <ul class="nav navbar-right panel_toolbox">
                      <li>
                         <button type="button" ng-click="profile = !profile" class="btn btn-danger btn-sm"><i class="fa fa-close"></i></button> 
                      </li>
                    </ul>
                    
                <div class="clearfix"></div>
                  </div>
                    <div class="x_content" >
                         <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="fullname">Patient ID</label>
                                  <div class="col-md-7 "> 
                                      {{ctrl.person.id}}
                                  </div>
                              </div>
                          </div>
                         <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="fullname">Patient name</label>
                                  <div class="col-md-7">
                                      {{ctrl.person.fullname}}
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="address">Address</label>
                                  <div class="col-md-7">
                                      {{ctrl.person.address}}
                                  </div>
                              </div>
                          </div>
                            <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="dob">D.O.B</label>
                                  <div class="col-md-7">
                                      {{ctrl.person.dob}}
                                  </div>
                              </div>
                          </div>
                            <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="sex">Gender</label>
                                  <div class="col-md-7">
                                      {{ctrl.person.sex}}
                                  </div>
                              </div>
                          </div>
                          
                         <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="cmnd">CMND</label>
                                  <div class="col-md-7">
                                      {{ctrl.person.cmnd}}
                                  </div>
                              </div>
                          </div>
                        <div class="row">
                              <div class="form-group col-md-12">
                                  <label class="col-md-2 control-lable" for="cmnd">TREATMENT PROFILE</label>
                              </div>
                          </div>
                         
                            <div class="clearfix"></div>
                            
                            <div class="x_content">
                                <table datatable="ng" class="table table-hover" >
                                <thead>
                                <tr>
                                    <th>Treatment No.</th>
                                    <th>History of diseases</th>
                                    <th>Prescription</th>
                                    <th>Medical result</th>
                                    <th>Doctor ID</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="treatment in treatmentsById">
                                    <td>{{ treatment.id }}</td>
                                    <td>{{ treatment.diseases }}</td>
                                    <td>{{ treatment.prescription }}</td>
                                    <td>{{ treatment.result }}</td>
                                    <td>{{ treatment.doctorId }}</td>
    
                                    <td align="right">
                                        <button type="button" ng-click="ctrl.edit(3, person)" class="btn btn-warning"><i class="fa fa-edit"></i></button>
                                        <button type="button" ng-click="ctrl.remove(3, person)" class="btn btn-danger"><i class="fa fa-trash-o"></i></button>
                                    </td>
                                </tr>
                                </tbody>
                             </table>
                            </div>
                            
                    
                    </div>
                </div>
              </div>           
            </div>
            
          </div>
        </div>
          
        
        <!-- /page content -->

        <!-- footer content -->
        <footer>
          <div class="pull-right">
            
          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    
    
    <!-- jQuery -->
    <script src="../../node_modules/jquery/dist/jquery.min.js"></script>
    
    <!-- jQuery DataTables -->
    <script src="../../node_modules/datatables.net/js/jquery.dataTables.js"></script>
    
    <!-- Angular -->
    <script src="../../node_modules/angular/angular.min.js"></script>
    
    <!-- Angular Datatables -->
    <script src="../../node_modules/angular-datatables/dist/angular-datatables.js"></script>
    
    <!-- Module | Dependencies Injection-->   
    <script src="../../controllers/app.js"></script>
    
    <!-- Controllers -->
    <script src="../../controllers/admin-controller.js"></script>
    
    
    <!-- Bootstrap -->
    <script src="../../libs/bootstrap/js/bootstrap.min.js"></script>
    <!-- Switchery -->
    <script src="../../libs/switchery/dist/switchery.min.css"></script>
    
    <!-- Custom Theme Script -->
    <script src="../../libs/build/js/custom.min.js"></script>
</body>
</html>
